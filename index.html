<!DOCTYPE html>
<html>
  <head>
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
  </head>
  <body>
    <h2>Twittler</h2>
    <button>New Tweets</button>
    <p class="all"></p>
    <script>
      var $all = $('.all');

      var showAll = function() {
        $all.html('');

        var index = streams.home.length - 1;
        while(index >= 0){
          var tweet = streams.home[index];
          var $tweet = $('<div></div>');
          $tweet.text('@' + tweet.user + ': ' + tweet.message + tweet.created_at);
          $tweet.appendTo($all);
          index -= 1;
        }
      };

      var showFilter = function() {
        $all.html('');
        
        var i = streams.users['douglascalhoun'].length - 1;
        while(i >= 0){
          var tweet = streams.users['douglascalhoun'][i];
          var $tweet = $('<h4></h4>');
          $tweet.text('@' + tweet.user + ': ' + tweet.message + tweet.created_at);
          $tweet.appendTo($all);
          i -= 1;
        }
      };

      $(document).ready(function(){
        showAll();

        $('button').on('click', function() {
          scheduleNextTweet();
          showAll();
        });

        $('.all').on('click', 'div', function() {
          showFilter();
        });
      });

    </script>
  </body>
</html>
